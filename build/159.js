"use strict";(self.webpackChunkchaoticbackup=self.webpackChunkchaoticbackup||[]).push([[159],{159:(e,t,n)=>{n.r(t),n.d(t,{default:()=>se});var r=n(7462),a=n(1721),l=n(7294),i=n(2188),c=n(798),o=n(5977),s=n(5323),u=n(3727),m=n(2195);function g(){function e(e){e.preventDefault(),e.stopPropagation()}var t=s.Z.tribes.map((function(t,n){return l.createElement("li",{key:n,className:"dropdown"},l.createElement(u.rU,{to:" ",className:"dropbtn",onClick:e},t),l.createElement("div",{className:"dropdown-content"},l.createElement(u.rU,{to:"/portal/"+t},"All"),l.createElement(u.rU,{to:"/portal/Creatures/"+t}," Creatures"),l.createElement(u.rU,{to:"/portal/Mugic/"+t}," Mugic")))}));return l.createElement("div",{className:"navbar"},l.createElement("ul",null,l.createElement("li",null,l.createElement(u.rU,{to:"/portal/"},"Home")),l.createElement("li",null,l.createElement(u.rU,{to:"/portal/Search"},l.createElement(m.QZ,null),"Search")),l.createElement("li",{className:"dropdown"},l.createElement(u.rU,{to:" ",onClick:e,className:"dropbtn"},"Types"),l.createElement("div",{className:"dropdown-content"},l.createElement(u.rU,{to:"/portal/Attacks"},"Attacks"),l.createElement(u.rU,{to:"/portal/Battlegear"},"Battlegear"),l.createElement(u.rU,{to:"/portal/Creatures"},"Creatures"),l.createElement(u.rU,{to:"/portal/Locations"},"Locations"),l.createElement(u.rU,{to:"/portal/Mugic"},"Mugic"))),t))}var p,d,h,E,f,x,$,v,b,y,w=n(3269),Z=n(7326),k=n(3229),C=(p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,(0,w.Z)(t,"coin",d,(0,Z.Z)(t)),t}(0,a.Z)(t,e);var n=t.prototype;return n.updateCanvas=function(e){var t=this;if(e){e.style.width="100%",e.style.height="100%",e.width=e.offsetWidth,e.height=e.offsetHeight;var n=e.getContext("2d"),r=new Image;r.src="/public/img/portal.png";var a=new Image;a.src=s.Z.base_image+"1iu0GFaJQ0UsSN8yYWi77VY1cXsQpM4o7",a.onload=function(){n.drawImage(a,0,0),function(){var t=new Image;t.src="https://i.imgur.com/fFzt0nB.png",t.onload=function(){n.drawImage(t,50,350)};var a=new Image;a.src="https://i.imgur.com/fZL9k8R.png",a.onload=function(){n.drawImage(a,e.width-300,350)};var l=new Image;l.src="https://i.imgur.com/n76pxSC.png",l.onload=function(){n.drawImage(l,e.width-350,r.height+10)};var i=new Image;i.src="https://i.imgur.com/roH9mqQ.png",i.onload=function(){n.drawImage(i,50,r.height+10)}}(),n.drawImage(r,e.width/2-r.width/2,0)};var l=new Image;this.coin=function(t){var n={},r=0,l=0,i=0,c=t.ticksPerFrame||0,o=t.frames||1,s=t.w_frames||1,u=t.h_frames||1;n.context=t.context,n.width=t.width,n.height=t.height,n.image=t.image;var m=0;return n.update=function(){(i+=1)>c&&(i=0,m++,r+1<s?r+=1:(r=0,l+=1),m+1>o&&(r=0,l=0,m=0))},n.render=function(){var t=n.width/s,i=n.height/u,c=e.width/2-t/2,o=e.height/2-i/2;n.context.clearRect(c,o,t,i),n.context.drawImage(a,c,o,t,i,c,o,t,i),n.context.drawImage(n.image,t*r,i*l,t,i,c,o,t,i)},n}({context:e.getContext("2d"),width:448,height:448,image:l,w_frames:7,h_frames:7,frames:47,ticksPerFrame:4}),l.addEventListener("load",(function e(){t.coin&&(window.requestAnimationFrame(e),t.coin.update(),t.coin.render())})),l.src=s.Z.base_image+"0B6oyUfwoM3u1cC1vaGVkU1J1ZzQ"}},n.render=function(){return l.createElement(l.Fragment,null,l.createElement("canvas",{ref:this.updateCanvas.bind(this),height:"600px"}))},t}(l.Component),d=(0,k.Z)(p.prototype,"coin",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p),F=n(3050),R=n.n(F),I=n(7804),N=n(7768);function L(e,t){return e.gsx$name.toLowerCase().replace(/\(unused\)[ ]/,"")>t.gsx$name.toLowerCase().replace(/\(unused\)[ ]/,"")?1:-1}function U(e,t){var n;return["Attacks","Battlegear","Creatures","Locations","Mugic"].includes(e.gsx$type)&&(n="/portal/"+e.gsx$type+"/"+e.gsx$name),n?l.createElement("div",{key:t},l.createElement(I.vj,(0,r.Z)({as:u.rU},N.Z.link,{to:n}),e.gsx$name),l.createElement("br",null)):l.createElement("div",{key:t,style:{display:"none"}})}function W(e,t,n){var a=null;return["Attacks","Battlegear","Creatures","Locations","Mugic"].includes(e.gsx$type)&&(n||(n="/portal/"+e.gsx$type+"/"+e.gsx$name),a=s.Z.cards[e.gsx$type.toLowerCase()].findOne({gsx$name:e.gsx$name})),a&&n?l.createElement("div",{key:t,className:"nav_item"},l.createElement(I.vj,(0,r.Z)({as:u.rU,to:n},N.Z.link),l.createElement("span",null,a.gsx$name.split(",")[0].replace(/\(Unused\)[ ]/,"")),l.createElement("br",null),l.createElement("img",{className:"thumb",src:s.Z.base_image+(a.gsx$thumb?a.gsx$thumb:s.Z.thumb_missing)}))):(console.warn("missing: "+e.gsx$name),l.createElement("div",{key:t,style:{display:"none"},className:"nav_item"}))}var _,A,O,B,D,M,P,z=(0,c.f3)((function(e,t,n){return t}))($=(0,c.Pi)((v=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,w.Z)(n,"input",b,(0,Z.Z)(n)),(0,w.Z)(n,"query",y,(0,Z.Z)(n)),n.search=function(e){e.preventDefault(),e.stopPropagation(),n.props.history.push("/portal/Search/?"+encodeURIComponent(n.query)),n.input=n.query},n.query=n.input=decodeURIComponent(n.props.location.search.substr(1)),n}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this;return l.createElement("div",{className:"search"},l.createElement("form",{onSubmit:this.search},l.createElement("input",{type:"text",value:this.query,autoFocus:!0,onChange:function(t){return e.query=t.target.value}}),l.createElement("button",{type:"submit"},l.createElement(m.QZ,null))),l.createElement(S,{string:this.input}))},t}(l.Component),b=(0,k.Z)(v.prototype,"input",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,k.Z)(v.prototype,"query",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=v))||$)||$,S=(0,c.f3)((function(e,t,n){return t}))(h=(0,c.Pi)((E=function(e){function t(){var t;return t=e.call(this)||this,(0,w.Z)(t,"loaded",f,(0,Z.Z)(t)),(0,w.Z)(t,"loading",x,(0,Z.Z)(t)),t.filter=new(R())("filter.db"),t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this;if(0==this.loaded)return 0==this.loading&&(this.loading=!0,s.Z.LoadDB([{portal:"attacks"},{portal:"battlegear"},{portal:"creatures"},{portal:"locations"},{portal:"mugic"},{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((function(){e.loaded=!0,e.loading=!1})).catch((function(){}))),l.createElement(m.gb,null);var t=this.props.string;if(""==t)return l.createElement("div",{style:{minHeight:"50px"}});var n=this.filter.addCollection("filter"),r=n.addDynamicView("filter");r.applySimpleSort("gsx$name");var a,i=s.Z.portal.attacks.chain(),c=s.Z.portal.battlegear.chain(),o=s.Z.portal.creatures.chain(),u=s.Z.portal.locations.chain(),g=s.Z.portal.mugic.chain();i=i.find({$or:[{gsx$attributes:{$regex:new RegExp(t,"i")}},{gsx$background:{$regex:new RegExp(t,"i")}},{gsx$details:{$regex:new RegExp(t,"i")}}]}),c=c.find({$or:[{gsx$attributes:{$regex:new RegExp(t,"i")}},{gsx$background:{$regex:new RegExp(t,"i")}},{gsx$details:{$regex:new RegExp(t,"i")}}]}),o=o.find({$or:[{gsx$appearance:{$regex:new RegExp(t,"i")}},{gsx$background:{$regex:new RegExp(t,"i")}},{gsx$specialabilities:{$regex:new RegExp(t,"i")}},{gsx$details:{$regex:new RegExp(t,"i")}}]}),u=u.find({$or:[{gsx$localfeatures:{$regex:new RegExp(t,"i")}},{gsx$background:{$regex:new RegExp(t,"i")}},{gsx$details:{$regex:new RegExp(t,"i")}}]}),g=g.find({$or:[{gsx$background:{$regex:new RegExp(t,"i")}},{gsx$details:{$regex:new RegExp(t,"i")}}]}),(a=i.data()).forEach((function(e){delete e.$loki})),n.insert(a),(a=c.data()).forEach((function(e){delete e.$loki})),n.insert(a),(a=o.data()).forEach((function(e){delete e.$loki})),n.insert(a),(a=u.data()).forEach((function(e){delete e.$loki})),n.insert(a),(a=g.data()).forEach((function(e){delete e.$loki})),n.insert(a);var p,d=r.data().map((function(e,t){return U(e,t)}));this.filter.removeCollection("filter");var h=[].concat(s.Z.portal.attacks.find({gsx$name:{$regex:new RegExp(t,"i")}}),s.Z.portal.battlegear.find({gsx$name:{$regex:new RegExp(t,"i")}}),s.Z.portal.creatures.find({gsx$name:{$regex:new RegExp(t,"i")}}),s.Z.portal.locations.find({gsx$name:{$regex:new RegExp(t,"i")}}),s.Z.portal.mugic.find({gsx$name:{$regex:new RegExp(t,"i")}}),s.Z.cards.attacks.chain().find({gsx$name:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.battlegear.chain().find({gsx$name:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.creatures.chain().find({gsx$name:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.locations.chain().find({gsx$name:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.mugic.chain().find({gsx$name:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data()).sort(L).filter((function(e,t,n){return 0==t||e.gsx$name!=n[t-1].gsx$name})).map((function(e,t){return W(e,t)}));if(0==d.length){var E=[].concat(s.Z.cards.attacks.chain().find({gsx$artist:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.battlegear.chain().find({gsx$artist:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.creatures.chain().find({gsx$artist:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.locations.chain().find({gsx$artist:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data(),s.Z.cards.mugic.chain().find({gsx$artist:{$regex:new RegExp(t,"i")}}).where(s.Z.hasFullart).data()).sort((function(e,t){return e.gsx$name>t.gsx$name?1:-1})).map((function(e,t){return U(e,t)}));E.length>0?(p="Art contributed by "+t+":",d=E):p="No Results Found"}else p="Results containing "+t+":";return l.createElement("div",{className:"results"},l.createElement("hr",null),h.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"entry_nav"},h),l.createElement("hr",null)),l.createElement("div",null,p),d)},t}(l.Component),f=(0,k.Z)(E.prototype,"loaded",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,k.Z)(E.prototype,"loading",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=E))||h)||h,q=(0,c.f3)((function(e,t,n){return t}))(_=(0,c.Pi)((A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,(0,w.Z)(t,"loaded",O,(0,Z.Z)(t)),(0,w.Z)(t,"loading",B,(0,Z.Z)(t)),t}(0,a.Z)(t,e);var n=t.prototype;return n.scrollLeft=function(e){document.getElementsByClassName("bottom_nav")[0].scrollLeft=e},n.render=function(){var e=this,t=this.props.type.toLowerCase();if(0==this.loaded)return 0==this.loading&&(this.loading=!0,s.Z.LoadDB([{cards:t},{portal:t}]).then((function(){e.loaded=!0,e.loading=!1})).catch((function(){}))),l.createElement(m.gb,null);var n=!0,r="",a=l.createElement("div",null),i=[],c=this.props.location.pathname.split("/");if(""==c[c.length-1]&&c.pop(),"creatures"==t||"mugic"==t){var g=c.length>=4&&s.Z.tribes.includes(c[3])?c[3]:null;g?c.length>4&&(n=!1,a=l.createElement(o.AW,{path:this.props.match.url+"/"+g+"/:card",component:this.props.component})):c.length>3&&(n=!1,a=l.createElement(o.AW,{path:this.props.match.url+"/:card",component:this.props.component})),r=g?g+" "+this.props.type:this.props.type,i=(g?s.Z.portal[t].chain().find({gsx$tribe:g}).data():s.Z.portal[t].chain().data()).sort(L).map((function(t,n){return W(t,n,g?"/portal/"+e.props.type+"/"+t.gsx$tribe+"/"+encodeURIComponent(t.gsx$name):"/portal/"+e.props.type+"/"+encodeURIComponent(t.gsx$name))}))}else c.length>3&&(n=!1,a=l.createElement(o.AW,{path:this.props.match.url+"/:card",component:this.props.component})),r=this.props.type,i=s.Z.portal[t].data.sort(L).map((function(e,t){return W(e,t)}));return n?l.createElement("div",{className:"entry "+t+" base_path"},l.createElement("div",{className:"cat_title"},r),l.createElement("div",{className:"entry_nav"},i)):l.createElement("div",{className:"entry "+t},l.createElement("div",{className:"entry_content"},a),l.createElement("div",{className:"cat_title"},l.createElement(u.rU,{to:"/portal/"+this.props.type},r)),l.createElement("div",{className:"entry_nav"},i))},t}(l.Component),O=(0,k.Z)(A.prototype,"loaded",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=(0,k.Z)(A.prototype,"loading",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=A))||_)||_;function Q(e){var t=e.name.split(",");return l.createElement(l.Fragment,null,l.createElement("span",null,t[0]),t.length>1&&l.createElement("span",{className:"bigger"},l.createElement("br",null),t[1].trim()))}function T(e){var t=[];return e.artist.split(/(?=, )/).forEach((function(e,n){t.push(l.createElement(u.rU,{key:n,to:"/portal/Search/?"+e.replace(", ","")},e))})),l.createElement("div",{className:"artist"},t)}var H,j=(0,c.f3)((function(e,t,n){return t}))(D=(0,c.Pi)((M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,(0,w.Z)(t,"fullscreen",P,(0,Z.Z)(t)),t.expand=function(e){t.fullscreen=!0},t.close=function(e){t.fullscreen=!1},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.card;return l.createElement(l.Fragment,null,l.createElement("div",{className:"modal"+(this.fullscreen?"":" hidden")},l.createElement("span",{className:"close",onClick:this.close},"×"),l.createElement("img",{className:"modal-content",src:s.Z.cardFullart(e)})),s.Z.hasFullart(e)&&l.createElement("div",{className:"entry_splash"},l.createElement("img",{onClick:this.expand,src:s.Z.cardFullart(e)})),l.createElement("div",{className:"entry_body"},l.createElement("div",{className:"title"},l.createElement(Q,{name:e.gsx$name}),l.createElement("hr",null)),l.createElement("div",{className:"column"},e.gsx$artist&&l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Artist(s):"),l.createElement(T,{artist:e.gsx$artist})),l.createElement("hr",null)),e.gsx$set&&l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Set: "),s.Z.sets[e.gsx$set]+" ("+e.gsx$set+")"),l.createElement("hr",null)),e.gsx$rarity&&l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Rarity: "),l.createElement(m.uq,{set:e.gsx$set,rarity:e.gsx$rarity,iconOnly:!0})," ",e.gsx$rarity),l.createElement("hr",null)),e.gsx$id&&l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Card ID: "),e.gsx$id),l.createElement("hr",null)),this.props.col0&&l.createElement(l.Fragment,null,this.props.col0),e.gsx$ability&&l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Ability:"),l.createElement(m.$U,{ability:e.gsx$ability}))),e.gsx$flavortext&&l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Card Flavor:"),l.createElement("br",null),e.gsx$flavortext)),this.props.col1&&l.createElement(l.Fragment,null,l.createElement("hr",null),"this.props.col1")),l.createElement("div",{className:"column"},this.props.col2)))},t}(l.Component),P=(0,k.Z)(M.prototype,"fullscreen",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=M))||D)||D;var V,G,J,X,Y,K,ee,te,ne,re=(0,c.f3)((function(e,t,n){return t}))(H=(0,c.Pi)(H=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.location.pathname.split("/");""==e[e.length-1]&&e.pop();var t=e.length>=5?decodeURIComponent(e[4]):4==e.length?decodeURIComponent(e[3]):void 0,n=s.Z.portal.creatures.findOne({gsx$name:t}),a=s.Z.cards.creatures.findOne({gsx$name:t});if(n){for(var i=n.gsx$tribe,c=[],o=0;o<parseInt(a.gsx$mugicability||0);o++)c.push(l.createElement(m.WC,{key:o,tribe:i}));var g=[];return n.gsx$attributes&&g.push(["Appearance",n.gsx$attributes]),n.gsx$background&&g.push(["Background",n.gsx$background]),n.gsx$details&&g.push(["Details",n.gsx$details]),n.gsx$battlegear&&g.push(["Favorite Battlegear(s)",n.gsx$battlegear.split(/[;]+\s*/).map((function(e,t){return l.createElement("p",{key:t},l.createElement(I.vj,(0,r.Z)({as:u.rU},N.Z.link,{to:"/portal/Battlegear/"+e}),l.createElement("span",null,e)))}))]),n.gsx$location&&g.push(["Favorite Location(s)",n.gsx$location.split(/[;]+\s*/).map((function(e,t){return l.createElement("p",{key:t},l.createElement(I.vj,(0,r.Z)({as:u.rU},N.Z.link,{to:"/portal/Locations/"+e}),l.createElement("span",null,e)))}))]),n.gsx$height&&g.push(["Height (ft)",n.gsx$height]),n.gsx$specialabilities&&g.push(["Special Abilities",n.gsx$specialabilities]),n.gsx$weight&&g.push(["Weight (lb)",n.gsx$weight]),l.createElement(j,{card:a,col0:l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Tribe: "),l.createElement(m.Fo,{tribe:i})," ",i),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Disciplines: "),a.gsx$courage,l.createElement(m.I1,{discipline:"courage"})," ",a.gsx$power,l.createElement(m.I1,{discipline:"power"})," ",a.gsx$wisdom,l.createElement(m.I1,{discipline:"wisdom"})," ",a.gsx$speed,l.createElement(m.I1,{discipline:"speed"})),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Energy: "),a.gsx$energy),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Elements: "),l.createElement(m.W_,{element:"fire",value:a.gsx$elements.toLowerCase().indexOf("fire")>=0})," ",l.createElement(m.W_,{element:"air",value:a.gsx$elements.toLowerCase().indexOf("air")>=0})," ",l.createElement(m.W_,{element:"earth",value:a.gsx$elements.toLowerCase().indexOf("earth")>=0})," ",l.createElement(m.W_,{element:"water",value:a.gsx$elements.toLowerCase().indexOf("water")>=0})),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Mugic Ability: "),c)),col2:g.map((function(e,t){return l.createElement(l.Fragment,{key:t},l.createElement("div",null,l.createElement("strong",null,e[0],":"),l.createElement("br",null),e[1]),t!==g.length-1&&l.createElement("hr",null))}))})}if(a&&s.Z.hasFullart(a)){for(var p=a.gsx$tribe,d=[],h=0;h<parseInt(a.gsx$mugicability||0);h++)d.push(l.createElement(m.WC,{key:h,tribe:p}));return l.createElement(j,{card:a,col0:l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Tribe: "),l.createElement(m.Fo,{tribe:p})," ",p),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Disciplines: "),a.gsx$courage,l.createElement(m.I1,{discipline:"courage"})," ",a.gsx$power,l.createElement(m.I1,{discipline:"power"})," ",a.gsx$speed,l.createElement(m.I1,{discipline:"speed"})," ",a.gsx$wisdom,l.createElement(m.I1,{discipline:"wisdom"})),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Energy: "),a.gsx$energy),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Elements: "),l.createElement(m.W_,{element:"fire",value:a.gsx$elements.toLowerCase().indexOf("fire")>=0})," ",l.createElement(m.W_,{element:"air",value:a.gsx$elements.toLowerCase().indexOf("air")>=0})," ",l.createElement(m.W_,{element:"earth",value:a.gsx$elements.toLowerCase().indexOf("earth")>=0})," ",l.createElement(m.W_,{element:"water",value:a.gsx$elements.toLowerCase().indexOf("water")>=0})),l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Mugic Ability: "),d))})}return l.createElement(m.uW,{location:this.props.location})},t}(l.Component))||H)||H,ae=(0,c.f3)((function(e,t,n){return t}))(V=(0,c.Pi)(V=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.location.pathname.split("/");""==e[e.length-1]&&e.pop();var t=e.length>=5?decodeURIComponent(e[4]):4==e.length?decodeURIComponent(e[3]):void 0,n=s.Z.portal.mugic.findOne({gsx$name:t}),r=s.Z.cards.mugic.findOne({gsx$name:t}),a=function(e){var t=[];if(0==r.gsx$cost)t.push(l.createElement("span",{key:0},"0"));else if("x"==r.gsx$cost.toLowerCase())t.push(l.createElement("span",{key:0},"X"));else for(var n=0;n<parseInt(r.gsx$cost);n++)t.push(l.createElement(m.WC,{tribe:e,key:n}));return t};if(n){var i=n.gsx$tribe;return l.createElement(j,{card:r,col0:l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Tribe: "),l.createElement(m.Fo,{tribe:i})," ",i),""!==r.gsx$cost&&l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Cost: "),a(i)))),col2:l.createElement(l.Fragment,null,n.gsx$background&&l.createElement("div",null,l.createElement("strong",null,"Background:"),l.createElement("br",null),n.gsx$background),n.gsx$background&&n.gsx$details&&l.createElement("hr",null),n.gsx$details&&l.createElement("div",null,l.createElement("strong",null,"Details:"),l.createElement("br",null),n.gsx$details))})}if(r&&s.Z.hasFullart(r)){var c=r.gsx$tribe;return l.createElement(j,{card:r,col0:l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement("strong",null,"Tribe: "),l.createElement(m.Fo,{tribe:c})," ",c),""!==r.gsx$cost&&l.createElement(l.Fragment,null,l.createElement("hr",null),l.createElement("div",null,l.createElement("strong",null,"Cost: "),a(c))))})}return l.createElement(m.uW,{location:this.props.location})},t}(l.Component))||V)||V,le=(0,c.f3)((function(e,t,n){return t}))(G=(0,c.Pi)((J=function(e){function t(){var t;return t=e.call(this)||this,(0,w.Z)(t,"loaded",X,(0,Z.Z)(t)),(0,w.Z)(t,"loading",Y,(0,Z.Z)(t)),t.filter=new(R())("filter.db"),t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this;if(0==this.loaded)return 0==this.loading&&(this.loading=!0,s.Z.LoadDB([{cards:"creatures"},{portal:"creatures"},{cards:"mugic"},{portal:"mugic"}]).then((function(){e.loaded=!0,e.loading=!1})).catch((function(){}))),l.createElement(m.gb,null);var t=this.props.location.pathname.split("/");""==t[t.length-1]&&t.pop();var n,r=t[2],a=this.filter.addCollection("filter"),i=a.addDynamicView("filter");(n=s.Z.portal.creatures.find({gsx$tribe:r})).forEach((function(e){delete e.$loki})),a.insert(n),(n=s.Z.portal.mugic.find({gsx$tribe:r})).forEach((function(e){delete e.$loki})),a.insert(n);var c=i.data();this.filter.removeCollection("filter");var g=c.sort(L).map((function(e,t){var n;return"Mugic"==e.gsx$type?n="/portal/"+r+"/Mugic/"+encodeURIComponent(e.gsx$name):"Creatures"==e.gsx$type&&(n="/portal/"+r+"/Creatures/"+encodeURIComponent(e.gsx$name)),W(e,t,n)}));return!(t.length>4)?l.createElement("div",{className:"entry tribe base_path"},l.createElement("div",{className:"cat_title"},r),l.createElement("div",{className:"entry_nav"},g)):l.createElement("div",{className:"entry tribe"},l.createElement("div",{className:"entry_content"},l.createElement(o.AW,{path:this.props.match.url+"/Creatures/:card",component:re}),l.createElement(o.AW,{path:this.props.match.url+"/Mugic/:card",component:ae})),l.createElement("div",{className:"cat_title"},l.createElement(u.rU,{to:"/portal/"+r},r)),l.createElement("div",{className:"entry_nav"},g))},t}(l.Component),X=(0,k.Z)(J.prototype,"loaded",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=(0,k.Z)(J.prototype,"loading",[i.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=J))||G)||G,ie=(0,c.f3)((function(e,t,n){return t}))(K=(0,c.Pi)(K=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.location.pathname.split("/");if(""==e[e.length-1]&&e.pop(),4!==e.length)return l.createElement(m.uW,{location:this.props.location});var t=decodeURIComponent(e[3]),n=s.Z.portal.attacks.findOne({gsx$name:t}),r=s.Z.cards.attacks.findOne({gsx$name:t});if(n){var a=[];return n.gsx$attributes&&a.push(["Attributes",n.gsx$attributes]),n.gsx$background&&a.push(["Background",n.gsx$background]),n.gsx$details&&a.push(["Details",n.gsx$details]),l.createElement(j,{card:r,col2:a.map((function(e,t){return l.createElement(l.Fragment,{key:t},l.createElement("div",null,l.createElement("strong",null,e[0],":"),l.createElement("br",null),e[1]),t!==a.length-1&&l.createElement("hr",null))}))})}return r&&s.Z.hasFullart(r)?l.createElement(j,{card:r}):l.createElement(m.uW,{location:this.props.location})},t}(l.Component))||K)||K,ce=(0,c.f3)((function(e,t,n){return t}))(ee=(0,c.Pi)(ee=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.location.pathname.split("/");if(""==e[e.length-1]&&e.pop(),4!==e.length)return l.createElement(m.uW,{location:this.props.location});var t=decodeURIComponent(e[3]),n=s.Z.portal.battlegear.findOne({gsx$name:t}),r=s.Z.cards.battlegear.findOne({gsx$name:t});if(n){var a=[];return n.gsx$attributes&&a.push(["Attributes",n.gsx$attributes]),n.gsx$background&&a.push(["Background",n.gsx$background]),n.gsx$details&&a.push(["Details",n.gsx$details]),l.createElement(j,{card:r,col2:a.map((function(e,t){return l.createElement(l.Fragment,{key:t},l.createElement("div",null,l.createElement("strong",null,e[0],":"),l.createElement("br",null),e[1]),t!==a.length-1&&l.createElement("hr",null))}))})}return r&&s.Z.hasFullart(r)?l.createElement(j,{card:r}):l.createElement(m.uW,{location:this.props.location})},t}(l.Component))||ee)||ee,oe=(0,c.f3)((function(e,t,n){return t}))(te=(0,c.Pi)(te=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props.location.pathname.split("/");if(""==e[e.length-1]&&e.pop(),4!==e.length)return l.createElement(m.uW,{location:this.props.location});var t=decodeURIComponent(e[3]),n=s.Z.portal.locations.findOne({gsx$name:t}),r=s.Z.cards.locations.findOne({gsx$name:t});if(n){var a=[];return n.gsx$localfeatures&&a.push(["Local Features",n.gsx$localfeatures]),n.gsx$background&&a.push(["Background",n.gsx$background]),n.gsx$details&&a.push(["Details",n.gsx$details]),l.createElement(j,{card:r,col0:l.createElement(l.Fragment,null,r.gsx$initiative&&l.createElement("div",null,l.createElement("strong",null,"Initiative: "),l.createElement(m.a3,{initiative:r.gsx$initiative,notitle:"true"}))),col2:a.map((function(e,t){return l.createElement(l.Fragment,{key:t},l.createElement("div",null,l.createElement("strong",null,e[0],":"),l.createElement("br",null),e[1]),t!==a.length-1&&l.createElement("hr",null))}))})}return r&&s.Z.hasFullart(r)?l.createElement(j,{card:r,col0:l.createElement(l.Fragment,null,r.gsx$initiative&&l.createElement("div",null,l.createElement("strong",null,"Initiative: "),l.createElement(m.a3,{initiative:r.gsx$initiative,notitle:"true"})))}):l.createElement(m.uW,{location:this.props.location})},t}(l.Component))||te)||te,se=(0,c.f3)((function(e,t,n){return t}))(ne=(0,c.Pi)(ne=function(e){function t(){return e.apply(this,arguments)||this}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidUpdate=function(){window.scrollTo({top:220,left:0,behavior:"smooth"})},n.render=function(){var e=this.props.match.url,t=s.Z.tribes.map((function(t,n){return l.createElement(o.AW,{key:n,path:e+"/"+t,component:le})}));return l.createElement("div",{className:"portal"},l.createElement(g,null),l.createElement(o.rs,null,l.createElement(o.AW,{exact:!0,path:e,component:C}),l.createElement(o.AW,{path:e+"/Search",component:z}),l.createElement(o.AW,{path:e+"/Attacks",render:function(e){return l.createElement(q,(0,r.Z)({},e,{type:"Attacks",component:ie}))}}),l.createElement(o.AW,{path:e+"/Battlegear",render:function(e){return l.createElement(q,(0,r.Z)({},e,{type:"Battlegear",component:ce}))}}),l.createElement(o.AW,{path:e+"/Creatures",render:function(e){return l.createElement(q,(0,r.Z)({},e,{type:"Creatures",component:re}))}}),l.createElement(o.AW,{path:e+"/Locations",render:function(e){return l.createElement(q,(0,r.Z)({},e,{type:"Locations",component:oe}))}}),l.createElement(o.AW,{path:e+"/Mugic",render:function(e){return l.createElement(q,(0,r.Z)({},e,{type:"Mugic",component:ae}))}}),t))},t}(l.Component))||ne)||ne}}]);