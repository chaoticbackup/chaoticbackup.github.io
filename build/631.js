"use strict";(self.webpackChunkchaoticbackup=self.webpackChunkchaoticbackup||[]).push([[631],{631:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var n=a(5603),r=a(7294),l=a(798),c=a(5977),i=a(7462),s=a(3727),u=a(7804),o=a(7436),m=a(2195),p=a(5403),d=a(6812),f=Object.create(p.Z);f.input={width:"1.2em",height:"1.4em",font:"inherit",textAlign:"center",margin:"0.05em",backgroundColor:"rgba(0,0,0,0)",color:"white"},f.inputGroup={alignItems:"center"},f.hyphen={background:"white",height:"0.1em",width:".5em",display:"inline-block"};const h=function(){var e=(0,r.useState)(""),t=e[0],a=e[1],n=(0,r.useState)(null),l=n[0],c=n[1],p=(0,r.useState)(null),h=p[0],E=p[1],g=(0,d.Z)({acceptedCharacters:/^[0-9a-z]$/i,length:12,value:t,onChange:a});if((0,r.useEffect)((function(){o.Z.getSpreadsheet(o.Z.path("1hzSojB76Me-P1qppxYR0oiHSU56jyK59x3DKm660ntc"),!1,(function(e){c(e)}))}),[]),null===l)return r.createElement(m.gb,null);return r.createElement("div",{className:"enterthecode"},r.createElement(u.vj,(0,i.Z)({as:s.rU},f.link,{to:"/EnterTheCode/PackSimulator/"}),"Pack Simulator"),r.createElement("br",null),r.createElement("br",null),r.createElement("div",{style:f.inputGroup},r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[0])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[1])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[2])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[3])),r.createElement("span",{style:f.hyphen}),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[4])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[5])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[6])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[7])),r.createElement("span",{style:f.hyphen}),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[8])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[9])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[10])),r.createElement("input",(0,i.Z)({type:"text",style:f.input},g[11]))),r.createElement("br",null),r.createElement("button",{onClick:function(e){if(e.preventDefault(),e.stopPropagation(),t.length<12||-1!=t.indexOf(" "))E(r.createElement("p",{style:{color:"red"}},"Please enter a 12 digit code"));else{var a=l[(c=0,i=l.length,c=Math.ceil(c),i=Math.floor(i),Math.floor(Math.random()*(i-c))+c)],n=/.*.png|.*.jpg/i.test(a.gsx$image.$t)?a.gsx$image.$t:o.Z.base_image+a.gsx$image.$t;E(r.createElement(r.Fragment,null,r.createElement("p",null," Congrats on your scan! "),r.createElement("br",null),r.createElement("p",{className:"bigger"}," ",a.gsx$name.$t," "),r.createElement("br",null),r.createElement("img",{className:"card",src:n})))}var c,i}},"Validate Code"),r.createElement("br",null),r.createElement("br",null),r.createElement("div",null,h))};var E,g,y,b=a(3269),k=a(3229),v=a(3050),x=a.n(v),Z=a(2188),$=new(E=function(){var e=this;(0,b.Z)(this,"filter",g,this),this.setupDB=function(){var t,a=new(x())("filter.db").addCollection("filter");a.addDynamicView("alphabetical").applySimpleSort("gsx$name"),(t=o.Z.cards.attacks.find()).forEach((function(e){return delete e.$loki})),a.insert(t),(t=o.Z.cards.battlegear.find()).forEach((function(e){return delete e.$loki})),a.insert(t),(t=o.Z.cards.creatures.find()).forEach((function(e){return delete e.$loki})),a.insert(t),(t=o.Z.cards.locations.find()).forEach((function(e){return delete e.$loki})),a.insert(t),(t=o.Z.cards.mugic.find()).forEach((function(e){return delete e.$loki})),a.insert(t),e.filter=a},this.blankCard=function(e){return r.createElement("div",{key:e,className:"card"},r.createElement("div",{style:{backgroundImage:'url("'+o.Z.card_back+'")'}}))},this.generate=function(t){for(var a,n=t.packs,l=t.set,c=[],i=[],s=0,u=e.filter.addDynamicView("set"),m=function(e){var t=parseInt(e)-10;return t<0&&(t=0),5*Math.floor(5*Math.random())+t},p=function t(a){var n,l,u=a[Math.floor(Math.random()*a.length)];u?i.indexOf(u.gsx$name)>-1||u.gsx$exclusive.toLowerCase().includes("starter")?t(a):(i.push(u.gsx$name),"Creatures"===u.gsx$type?c.push(r.createElement("div",{key:s++,className:"card creatures"},r.createElement("div",{style:{backgroundImage:'url("'+o.Z.cardImage(u)+'")'}},r.createElement("div",{className:"stats"},r.createElement("span",{key:"courage"},m(u.gsx$courage)),r.createElement("span",{key:"power"},m(u.gsx$power)),r.createElement("span",{key:"wisdom"},m(u.gsx$wisdom)),r.createElement("span",{key:"speed"},m(u.gsx$speed)),r.createElement("span",{key:"energy"},(n=u.gsx$energy,(l=parseInt(n)-5)<0&&(l=0),5*Math.floor(3*Math.random())+l)))))):(console.log(o.Z.cardImage(u)),c.push(r.createElement("div",{key:s++,className:"card "+u.gsx$type.toLowerCase()},r.createElement("div",{style:{backgroundImage:'url("'+o.Z.cardImage(u)+'")'}}))))):c.push(e.blankCard(s++))},d=function(e,t){u.applyFind({gsx$set:l}).applyFind({gsx$rarity:e});for(var a=u.data(),n=0;n<t;n++)p(a);u.removeFilters()},f=function(e){void 0===e&&(e="Rare");var t=Math.floor(24*Math.random())+1;return 24==t?"Ultra Rare":t%3==0?"Super Rare":e},h=0;h<n;h++){switch(l){case"OP1":d("Common",2),d((a=void 0,75==(a=Math.floor(75*Math.random())+1)?"Ultra Rare":a<19?"Super Rare":a<44?"Rare":"Uncommon"),1);break;case"PE1":d("Super Rare",5),d("Ultra Rare",1);break;case"AU":case"FAS":d("Common",6),d("Rare",2),d(f(),1);break;case"TOTT":case"FUN":d("Common",3),d("Uncommon",3),d("Rare",2),d(f("Common"),1);break;default:d("Common",4),d("Uncommon",3),d("Rare",1),d(f(),1)}i=[]}return e.filter.removeDynamicView("set"),c}},g=(0,k.Z)(E.prototype,"filter",[Z.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E),C=$.generate,S=$.setupDB,w=$.blankCard;function M(){var e=(0,r.useState)(!1),t=e[0],a=e[1],n=(0,r.useState)(""),l=n[0],c=n[1],d=(0,r.useState)([]),f=d[0],h=d[1],E=(0,r.useState)([]),g=E[0],y=E[1],b=(0,r.useState)(1),k=b[0],v=b[1];if((0,r.useEffect)((function(){o.Z.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((function(){S(),a(!0)})).catch((function(){}));for(var e=[],t=0;t<9;t++)e.push(w(t));y(e);var n=[],l=1;for(var c in o.Z.sets)if(n.push(r.createElement("option",{key:l++,value:c},o.Z.sets[c])),"PE1"===c)break;h(n)}),[]),0==t)return r.createElement(m.gb,null);return r.createElement("div",{className:"packsim"},r.createElement(u.vj,(0,i.Z)({as:s.rU},p.Z.link,{to:"/EnterTheCode/"}),"Enter The Code"),r.createElement("br",null),r.createElement("br",null),r.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),y(C({packs:k,set:l}))}},r.createElement("label",null,"Packs:",r.createElement("input",{name:"packs",type:"number",value:k,min:"1",max:"24",style:{width:"32px",padding:"0px"},onChange:function(e){parseInt(e.target.value)>24&&(e.target.value="24"),v(parseInt(e.target.value))}})),r.createElement("select",{name:"set",value:l,onChange:function(e){c(e.target.value)}},r.createElement("option",{defaultValue:"selected",hidden:!0,style:{fontStyle:"italic"}},"Select a Set"),f),r.createElement("br",null),r.createElement("br",null),r.createElement("input",{disabled:!l,type:"submit",value:"Open Packs"})),r.createElement("br",null),r.createElement("br",null),r.createElement("div",{className:"pack"},g))}var P=(0,l.f3)((function(e,t,a){return t}))(y=(0,l.Pi)(y=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this.props.match;return r.createElement("div",null,r.createElement(c.rs,null,r.createElement(c.AW,{exact:!0,path:e.url,component:h}),r.createElement(c.AW,{path:e.url+"/PackSimulator",component:M})))},t}(r.Component))||y)||y}}]);