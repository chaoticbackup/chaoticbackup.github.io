(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{386:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n,i,r,l,s,c,m,o,u,g,p,d=a(121),h=a.n(d),x=a(63),f=a.n(x),b=a(61),y=a.n(b),$=a(52),E=a.n($),v=a(118),w=a.n(v),k=a(119),C=a.n(k),N=a(164),q=a.n(N),I=a(120),O=a.n(I),j=a(38),_=a.n(j),B=(a(163),a(0)),S=a.n(B),F=a(69),L=a(6),M=a(84),R=a(34),T=Object(M.a)(function(e,t,a){return t})(n=Object(M.b)(n=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?S.a.createElement("div",{className:"card attack"},S.a.createElement("img",{className:"thumb",src:F.a.base_image+(t.gsx$thumb||F.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),S.a.createElement("div",{className:"left"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.m,{set:t.gsx$set,rarity:t.gsx$rarity}),S.a.createElement("br",null),S.a.createElement("span",null,S.a.createElement(R.b,{bp:t.gsx$bp})," Attack - ",t.gsx$bp),S.a.createElement("br",null),S.a.createElement("div",null,S.a.createElement("span",{className:"bp bigger"},t.gsx$base)," | ",S.a.createElement(R.f,{element:"fire",value:t.gsx$fire}),t.gsx$fire," ",S.a.createElement(R.f,{element:"air",value:t.gsx$air}),t.gsx$air," ",S.a.createElement(R.f,{element:"earth",value:t.gsx$earth}),t.gsx$earth," ",S.a.createElement(R.f,{element:"water",value:t.gsx$water}),t.gsx$water)),S.a.createElement("br",null),S.a.createElement("div",{className:"right"},S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):S.a.createElement("div",{className:"card attack"},S.a.createElement("img",{className:"fullcard",src:F.a.base_image+(t.gsx$image||F.a.card_back)}),S.a.createElement("div",{className:"right"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),S.a.createElement("br",null)),S.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(S.a.Component))||n)||n,z=Object(M.a)(function(e,t,a){return t})(i=Object(M.b)(i=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?S.a.createElement("div",{className:"card battlegear"},S.a.createElement("img",{className:"thumb",style:{float:"left"},src:F.a.base_image+(t.gsx$thumb||F.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),S.a.createElement("div",{className:"left"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.m,{set:t.gsx$set,rarity:t.gsx$rarity}),S.a.createElement("br",null),S.a.createElement("span",null,S.a.createElement(R.c,null)," Battlegear",0<t.gsx$types.length?" - "+t.gsx$types:null)),S.a.createElement("div",{className:"right"},S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):S.a.createElement("div",{className:"card battlegear"},S.a.createElement("img",{className:"fullcard",src:F.a.base_image+(t.gsx$image||F.a.card_back)}),S.a.createElement("div",{className:"right"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),S.a.createElement("br",null)),S.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(S.a.Component))||i)||i,A=Object(M.a)(function(e,t,a){return t})(r=Object(M.b)(r=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){for(var e=this,i=this.props.card,t=[],a=0;a<i.gsx$mugicability;a++)t.push(S.a.createElement(R.j,{key:a,tribe:i.gsx$tribe}));return 0==this.props.ext?S.a.createElement("div",{className:"card creature"},S.a.createElement("img",{className:"thumb",style:{float:"left"},src:F.a.base_image+(i.gsx$thumb||F.a.thumb_missing),onClick:function(){return e.props.setImage(i.gsx$image)}}),S.a.createElement("div",{className:"left"},S.a.createElement(R.k,{name:i.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.m,{set:i.gsx$set,rarity:i.gsx$rarity}),S.a.createElement("br",null),S.a.createElement(function(){var e=i.gsx$tribe,t=i.gsx$types,a=!1;t.toLowerCase().includes("past")&&(a=!0,t=t.replace(/past /i,""));var n=" "+(a?"Past ":"")+("Generic"==e?"":e+" ")+t;return S.a.createElement("span",null,S.a.createElement(R.o,{tribe:e}),n)},null),S.a.createElement("br",null),S.a.createElement("div",null,S.a.createElement(R.f,{element:"fire",value:0<=i.gsx$elements.toLowerCase().indexOf("fire")})," ",S.a.createElement(R.f,{element:"air",value:0<=i.gsx$elements.toLowerCase().indexOf("air")})," ",S.a.createElement(R.f,{element:"earth",value:0<=i.gsx$elements.toLowerCase().indexOf("earth")})," ",S.a.createElement(R.f,{element:"water",value:0<=i.gsx$elements.toLowerCase().indexOf("water")})),S.a.createElement("span",null,t)),S.a.createElement("br",null),S.a.createElement("div",{className:"right"},S.a.createElement(R.a,{ability:i.gsx$ability,tribe:i.gsx$tribe}),S.a.createElement(R.a,{type:"brainwashed",tribe:i.gsx$tribe,ability:i.gsx$brainwashed}),S.a.createElement(R.q,{data:{unique:i.gsx$unique,loyal:i.gsx$loyal,legendary:i.gsx$legendary,tribe:i.gsx$tribe}}),i.gsx$types.includes("Chieftain")&&S.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",S.a.createElement("br",null)),S.a.createElement("span",{className:"flavortext"},i.gsx$flavortext)),S.a.createElement("br",null),S.a.createElement("div",{className:"stats"},S.a.createElement("div",{className:"energy"},i.gsx$courage,S.a.createElement(R.d,{discipline:"courage"})),S.a.createElement("div",{className:"energy"},i.gsx$power,S.a.createElement(R.d,{discipline:"power"})),S.a.createElement("div",{className:"energy"},i.gsx$wisdom,S.a.createElement(R.d,{discipline:"wisdom"})),S.a.createElement("div",{className:"energy"},i.gsx$speed,S.a.createElement(R.d,{discipline:"speed"})),S.a.createElement("div",{className:"energy",style:{fontWeight:"bold"}},i.gsx$energy))):S.a.createElement("div",{className:"card creature"},S.a.createElement("img",{className:"fullcard",src:F.a.base_image+(i.gsx$image||F.a.card_back)}),S.a.createElement("div",{className:"right"},S.a.createElement(R.k,{name:i.gsx$name}),S.a.createElement("br",null),S.a.createElement("span",null,i.gsx$courage," ",S.a.createElement(R.d,{discipline:"courage"}))," ",S.a.createElement("span",null,i.gsx$power," ",S.a.createElement(R.d,{discipline:"power"}))," ",S.a.createElement("span",null,i.gsx$wisdom," ",S.a.createElement(R.d,{discipline:"wisdom"}))," ",S.a.createElement("span",null,i.gsx$speed," ",S.a.createElement(R.d,{discipline:"speed"}))," ",S.a.createElement("span",{style:{fontWeight:"bold"}},i.gsx$energy),S.a.createElement("br",null),S.a.createElement(R.a,{ability:i.gsx$ability,tribe:i.gsx$tribe}),S.a.createElement(R.a,{type:"brainwashed",tribe:i.gsx$tribe,ability:i.gsx$brainwashed}),S.a.createElement(R.q,{data:{unique:i.gsx$unique,loyal:i.gsx$loyal,legendary:i.gsx$legendary,tribe:i.gsx$tribe}}),i.gsx$types.includes("Chieftain")&&S.a.createElement("span",{className:"chieftain"},"(Minions use Brainwashed text. Minions may only play Generic Mugic.)",S.a.createElement("br",null)),i.gsx$flavortext&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"flavortext"},i.gsx$flavortext),S.a.createElement("br",null)),S.a.createElement("span",null,"Art By: ",i.gsx$artist)))}}]),t}(S.a.Component))||r)||r,P=Object(M.a)(function(e,t,a){return t})(l=Object(M.b)(l=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card;return 0==this.props.ext?S.a.createElement("div",{className:"card location"},S.a.createElement("img",{className:"thumb",style:{float:"left",width:"100px",height:"98px"},src:F.a.base_image+(t.gsx$thumb||F.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),S.a.createElement("div",{className:"left"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.m,{set:t.gsx$set,rarity:t.gsx$rarity}),S.a.createElement("br",null),S.a.createElement("span",null,S.a.createElement(R.i,null)," Location",0<t.gsx$types.length?" - "+t.gsx$types:null),S.a.createElement("br",null),S.a.createElement(R.g,{initiative:t.gsx$initiative})),S.a.createElement("div",{className:"right"},S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):S.a.createElement("div",{className:"card location"},S.a.createElement("img",{className:"fullcard",src:F.a.base_image+(t.gsx$image||F.a.card_back)}),S.a.createElement("div",{className:"right"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.a,{ability:t.gsx$ability}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),S.a.createElement("br",null)),S.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(S.a.Component))||l)||l,U=Object(M.a)(function(e,t,a){return t})(s=Object(M.b)(s=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"render",value:function(){var e=this,t=this.props.card,a=[];if(0==t.gsx$cost)a.push(S.a.createElement(R.j,{tribe:t.gsx$tribe,key:0,amount:"0"}));else if("x"==t.gsx$cost.toLowerCase())a.push(S.a.createElement(R.j,{tribe:t.gsx$tribe,key:0,amount:"x"}));else if(5<t.gsx$cost)a.push(S.a.createElement(R.j,{tribe:t.gsx$tribe,key:0,amount:t.gsx$cost}));else for(var n=0;n<t.gsx$cost;n++)a.push(S.a.createElement(R.j,{tribe:t.gsx$tribe,key:n}));return 0==this.props.ext?S.a.createElement("div",{className:"card mugic"},S.a.createElement("img",{className:"thumb",style:{float:"left"},src:F.a.base_image+(t.gsx$thumb||F.a.thumb_missing),onClick:function(){return e.props.setImage(t.gsx$image)}}),S.a.createElement("div",{className:"left"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.m,{set:t.gsx$set,rarity:t.gsx$rarity})," ",S.a.createElement("br",null),S.a.createElement(R.o,{size:"icon16",tribe:t.gsx$tribe})," Mugic - ",t.gsx$tribe,S.a.createElement("br",null),S.a.createElement("span",null,a),S.a.createElement("br",null)),S.a.createElement("br",null),S.a.createElement("div",{className:"right"},S.a.createElement(R.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext))):S.a.createElement("div",{className:"card mugic"},S.a.createElement("img",{className:"fullcard",src:F.a.base_image+(t.gsx$image||F.a.card_back)}),S.a.createElement("div",{className:"right"},S.a.createElement(R.k,{name:t.gsx$name}),S.a.createElement("br",null),S.a.createElement(R.a,{ability:t.gsx$ability,tribe:t.gsx$tribe}),S.a.createElement(R.q,{data:{unique:t.gsx$unique,loyal:t.gsx$loyal,legendary:t.gsx$legendary}}),t.gsx$flavortext&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"flavortext"},t.gsx$flavortext),S.a.createElement("br",null)),S.a.createElement("span",null,"Art By: ",t.gsx$artist)))}}]),t}(S.a.Component))||s)||s,H=Object(M.a)(function(e,t,a){return t})(c=Object(M.b)(c=function(e){function t(){return y()(this,t),w()(this,C()(t).apply(this,arguments))}return O()(t,e),E()(t,[{key:"setImage",value:function(e){0==this.props.ext&&this.props.setImage(e)}},{key:"render",value:function(){var a=this,e=this.props.cards;return 1==e.length&&e[0].text?S.a.createElement("div",{style:{textAlign:"left"}},e[0].text):e.map(function(e,t){switch(e.gsx$type){case"Attacks":return S.a.createElement(T,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Battlegear":return S.a.createElement(z,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Creatures":return S.a.createElement(A,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Locations":return S.a.createElement(P,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});case"Mugic":return S.a.createElement(U,{card:e,key:t,ext:a.props.ext,setImage:a.setImage.bind(a)});default:return S.a.createElement("div",{key:t},"Invalid Card Type")}})}}]),t}(S.a.Component))||c)||c,D=a(51),J=a.n(D),Q=a(380),G=a.n(Q),W=a(381),Y=a.n(W),V=a(122),K=a.n(V);function X(e){return e=e.replace(/\\/g,"").replace(/\(|\)/g,function(e){return"\\"+e}).replace(/\‘|\’/g,"'"),new RegExp(e.trim(),"i")}var Z,ee,te,ae,ne,ie,re,le,se,ce,me,oe,ue=Object(M.a)(function(e,t,a){return t})(m=Object(M.b)((o=function(e){function t(e){var s;return y()(this,t),s=w()(this,C()(t).call(this,e)),f()(s,"loaded",u,q()(s)),f()(s,"input",g,q()(s)),f()(s,"collapsed",p,q()(s)),s.list=["sets","types","rarity","tribes","elements","mull","gender"],s.fetchCollapsed=function(){var e=localStorage.getItem("collapsed");e=e?JSON.parse(e):{disciplines:!0,energy:!0,bpmc:!0,types:!0,rarity:!1,sets:!1},s.collapsed=e},s.handleTriggerClick=function(e){var t=s.collapsed;t[e]=!s.collapsed[e],localStorage.setItem("collapsed",JSON.stringify(t))},s.cleanInput=function(){var e={name:"",text:"",subtypes:"",flavor:!0,sets:{},types:{attack:!1,battlegear:!1,creature:!1,location:!1,mugic:!1},rarity:{common:!1,uncommon:!1,rare:!1,"super rare":!1,"ultra rare":!1,promo:!1},tribes:{danian:!1,"m'arrillian":!1,mipedian:!1,overworld:!1,underworld:!1,generic:!1},elements:{fire:!1,air:!1,earth:!1,water:!1,none:!1,and:!1},disciplines:{courage:"",power:"",wisdom:"",speed:""},energy:{min:"",max:""},mcbp:{min:"",max:""},mull:{unique:!1,loyal:!1,legendary:!1,mixed:!1},gender:{ambiguous:!1,female:!1,male:!1}};for(var t in F.a.sets)e.sets[t.toLowerCase()]=!1;s.input=e},s.parseQuery=function(){for(var e=s.props.location.search.toLowerCase(),a={},t=("?"===e[0]?e.substr(1):e).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}if(s.list.forEach(function(t){a[t]&&a[t].split(",").map(function(e){s.input[t][e]=!0})}),a.hasOwnProperty("name")&&(s.input.name=a.name),a.hasOwnProperty("text")&&(s.input.text=a.text),a.hasOwnProperty("subtypes")&&(s.input.subtypes=a.subtypes),a.hasOwnProperty("courage")&&(s.input.disciplines.courage=a.courage),a.hasOwnProperty("power")&&(s.input.disciplines.power=a.power),a.hasOwnProperty("wisdom")&&(s.input.disciplines.wisdom=a.wisdom),a.hasOwnProperty("speed")&&(s.input.disciplines.speed=a.speed),a.hasOwnProperty("energy")){var r=a.energy.split(",");0<=r[0]&&(s.input.energy.min=r[0]),0<=r[1]&&(s.input.energy.max=r[1])}if(a.hasOwnProperty("mcbp")){var l=a.mcbp.split(",");0<=l[0]&&(s.input.mcbp.min=l[0]),0<=l[1]&&(s.input.mcbp.max=l[1])}},s.reset=function(e){e.preventDefault(),e.stopPropagation(),s.cleanInput()},s.handleChange=function(e,t){var a=e.target,n="checkbox"===a.type?a.checked:a.value,i=a.name;t?s.input[t][i]=n:s.input[i]=n},s.search=function(e){e&&(e.preventDefault(),e.stopPropagation(),s.updateQuery());var t=function(t){var e=new K.a("filter.db").addCollection("filter"),a=e.addDynamicView("filter");a.applySimpleSort("gsx$name");var n,i=F.a.cards.attacks.chain(),r=F.a.cards.battlegear.chain(),l=F.a.cards.creatures.chain(),s=F.a.cards.locations.chain(),c=F.a.cards.mugic.chain();if(i=i.where(function(e){return""!=e.gsx$set}),r=r.where(function(e){return""!=e.gsx$set}),l=l.where(function(e){return""!=e.gsx$set}),s=s.where(function(e){return""!=e.gsx$set}),c=c.where(function(e){return""!=e.gsx$set}),0<t.name.length){var m=X(t.name);i=i.find({$or:[{gsx$name:{$regex:m}},{gsx$tags:{$regex:m}}]}),r=r.find({$or:[{gsx$name:{$regex:m}},{gsx$tags:{$regex:m}}]}),l=l.find({$or:[{gsx$name:{$regex:m}},{gsx$tags:{$regex:m}}]}),s=s.find({$or:[{gsx$name:{$regex:m}},{gsx$tags:{$regex:m}}]}),c=c.find({$or:[{gsx$name:{$regex:m}},{gsx$tags:{$regex:m}}]})}if(0<t.text.length){var o=t.text.split(",").filter(Boolean).map(function(e){return{$regex:X(e)}}),u=X(t.text),g=(n=[{gsx$tags:{$or:o}},{gsx$ability:{$regex:u}}],t.flavor&&(n.push({gsx$flavortext:{$or:o}}),n.push({gsx$artist:{$or:o}})),n);i=i.find({$or:g}),r=r.find({$or:g}),l=l.find({$or:g.concat([{gsx$brainwashed:{$regex:u}}])}),s=s.find({$or:g}),c=c.find({$or:g})}if(0<t.subtypes.length){var p=t.subtypes.split(",").filter(Boolean).map(function(e){return{$regex:X(e)}});l=l.find({gsx$types:{$or:p}}),s=s.find({$or:[{gsx$initiative:{$or:p}},{gsx$types:{$or:p}}]}),i=i.limit(0),r=r.find({gsx$types:{$or:p}}),c=c.limit(0)}var d=[];for(var h in t.tribes)t.tribes[h]&&d.push({$regex:new RegExp(h,"i")});if(0<d.length&&(l=l.find({gsx$tribe:{$or:d}}),c=c.find({gsx$tribe:{$or:d}}),i=i.limit(0),r=r.limit(0),s=s.limit(0)),t.elements.none){if(t.elements.and){i=i.where(function(e){return t.elements.fire?""!=e.gsx$fire:""==e.gsx$fire}).where(function(e){return t.elements.air?""!=e.gsx$air:""==e.gsx$air}).where(function(e){return t.elements.earth?""!=e.gsx$earth:""==e.gsx$earth}).where(function(e){return t.elements.water?""!=e.gsx$water:""==e.gsx$water});var x="";["fire","air","earth","water"].forEach(function(e){t.elements[e]&&(x+=e+", ")}),""!==x&&(l=l.find({gsx$elements:{$regex:new RegExp("^"+x.substring(0,x.length-2)+"s*$","i")}}))}else i=i.where(function(e){return""==e.gsx$fire}).where(function(e){return""==e.gsx$air}).where(function(e){return""==e.gsx$earth}).where(function(e){return""==e.gsx$water}),l=l.where(function(e){return""==e.gsx$elements});r=r.limit(0),s=s.limit(0),c=c.limit(0)}else{var f=[],b=[];for(var y in t.elements)"none"!==y&&"and"!==y&&t.elements[y]&&(f.push({$regex:new RegExp(y,"i")}),b.push(Y()({},"gsx$"+y,{$gte:0})));0<f.length&&(i=t.elements.and?(l=l.find({gsx$elements:{$and:f}}),i.find({$and:b})):(l=l.find({gsx$elements:{$or:f}}),i.find({$or:b})),r=r.limit(0),s=s.limit(0),c=c.limit(0))}0<t.disciplines.courage&&(l=l.find({gsx$courage:{$gte:t.disciplines.courage}})),0<t.disciplines.power&&(l=l.find({gsx$power:{$gte:t.disciplines.power}})),0<t.disciplines.wisdom&&(l=l.find({gsx$wisdom:{$gte:t.disciplines.wisdom}})),0<t.disciplines.speed&&(l=l.find({gsx$speed:{$gte:t.disciplines.speed}})),0<t.energy.min&&(l=l.find({gsx$energy:{$gte:t.energy.min}})),0<t.energy.max&&t.energy.max>=t.energy.min&&(l=l.find({gsx$energy:{$lte:t.energy.max}})),(0<t.energy.min||0<t.energy.max||0<t.disciplines.courage||0<t.disciplines.power||0<t.disciplines.wisdom||0<t.disciplines.speed)&&(i=i.limit(0),r=r.limit(0),s=s.limit(0),c=c.limit(0)),""!==t.mcbp.min&&0<=t.mcbp.min&&(i=i.find({gsx$bp:{$gte:t.mcbp.min}}),l=l.find({gsx$mugicability:{$gte:t.mcbp.min}}),c=c.find({gsx$cost:{$gte:t.mcbp.min}})),""!==t.mcbp.max&&0<=t.mcbp.max&&t.mcbp.max>=t.mcbp.min&&(i=i.find({gsx$bp:{$lte:t.mcbp.max}}),l=l.find({gsx$mugicability:{$lte:t.mcbp.max}}),c=c.find({gsx$cost:{$lte:t.mcbp.max}})),(0<t.mcbp.max||0<t.mcbp.min)&&(r=r.limit(0),s=s.limit(0)),t.mull.unique&&(i=i.find({gsx$unique:{$gt:0}}),r=r.find({gsx$unique:{$gt:0}}),l=l.find({gsx$unique:{$gt:0}}),s=s.find({gsx$unique:{$gt:0}}),c=c.find({gsx$unique:{$gt:0}})),t.mull.loyal&&(i=i.limit(0),r=r.find({gsx$loyal:{$gt:0}}),l=l.find({gsx$loyal:{$gt:0}}),c=c.limit(0),s=s.limit(0)),t.mull.legendary&&(i=i.find({gsx$legendary:{$gt:0}}),r=r.find({gsx$legendary:{$gt:0}}),l=l.find({gsx$legendary:{$gt:0}}),s=s.find({gsx$legendary:{$gt:0}}),c=c.find({gsx$legendary:{$gt:0}})),t.mull.mixed&&(i=i.limit(0),l=l.find({gsx$loyal:{$lte:0}}),r=r.find({gsx$loyal:{$lte:0}}),c=c.limit(0),s=s.limit(0));var $=[];for(var E in t.sets)t.sets[E]&&$.push({$eq:E.toUpperCase()});if(0===$.length){var v=Object.keys(t.sets);for(var w in t.sets.proto||v.splice(v.indexOf("proto")),v)$.push({$eq:v[w].toUpperCase()})}0<$.length&&(i=i.find({gsx$set:{$or:$}}),r=r.find({gsx$set:{$or:$}}),l=l.find({gsx$set:{$or:$}}),s=s.find({gsx$set:{$or:$}}),c=c.find({gsx$set:{$or:$}}));var k=[];for(var C in t.rarity)t.rarity[C]&&k.push({$eq:C.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")});0<k.length&&(i=i.find({gsx$rarity:{$or:k}}),r=r.find({gsx$rarity:{$or:k}}),l=l.find({gsx$rarity:{$or:k}}),s=s.find({gsx$rarity:{$or:k}}),c=c.find({gsx$rarity:{$or:k}}));var N=!(t.types.attack|t.types.battlegear|t.types.creature|t.types.location|t.types.mugic);if(N||t.types.attack){var q=i.data();q.forEach(function(e){delete e.$loki}),e.insert(q)}if(N||t.types.battlegear){var I=r.data();I.forEach(function(e){delete e.$loki}),e.insert(I)}if(N||t.types.creature){var O=l.data();O.forEach(function(e){delete e.$loki}),e.insert(O)}if(N||t.types.location){var j=s.data();j.forEach(function(e){delete e.$loki}),e.insert(j)}if(N||t.types.mugic){var _=c.data();_.forEach(function(e){delete e.$loki}),e.insert(_)}return a.data()}(s.input);0<t.length?s.props.handleContent(t):s.props.handleContent([{text:"No Results Found"}])},s.search=s.search.bind(q()(s)),s.handleChange=s.handleChange.bind(q()(s)),s.reset=s.reset.bind(q()(s)),s.handleTriggerClick=s.handleTriggerClick.bind(q()(s)),s.props.handleContent([{text:"Loading..."}]),s.cleanInput(),s.parseQuery(),s.fetchCollapsed(),s}return O()(t,e),E()(t,[{key:"updateQuery",value:function(){var t,a,n=this;return J.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:t="",a=function(t){var a="";return Object.keys(n.input[t]).forEach(function(e){1==n.input[t][e]&&(a+=e+",")}),0<a.length?t+"="+a.replace(/\,$/,"&"):""},this.list.forEach(function(e){return t+=a(e)}),this.input.name&&(t+="name="+encodeURIComponent(this.input.name)+"&"),this.input.text&&(t+="text="+encodeURIComponent(this.input.text)+"&"),this.input.subtypes&&(t+="subtypes="+encodeURIComponent(this.input.subtypes)+"&"),0<this.input.disciplines.courage&&(t+="courage="+this.input.disciplines.courage+"&"),0<this.input.disciplines.power&&(t+="power="+this.input.disciplines.power+"&"),0<this.input.disciplines.wisdom&&(t+="wisdom="+this.input.disciplines.wisdom+"&"),0<this.input.disciplines.speed&&(t+="speed="+this.input.disciplines.speed+"&"),""==this.input.energy.min&&""==this.input.energy.max||(t+="energy=",""!=this.input.energy.min&&0<=this.input.energy.min&&(t+=this.input.energy.min),t+=",",""!=this.input.energy.max&&0<=this.input.energy.max&&(t+=this.input.energy.max),t+="&"),""==this.input.mcbp.min&&""==this.input.mcbp.max||(t+="mcbp=",""!=this.input.mcbp.min&&0<=this.input.mcbp.min&&(t+=this.input.mcbp.min),t+=",",""!=this.input.mcbp.max&&0<=this.input.mcbp.max&&(t+=this.input.mcbp.max),t+="&"),t=t.replace(/\&$/,""),this.props.history.push("/collection/?"+t);case 14:case"end":return e.stop()}},null,this)}},{key:"render",value:function(){var l=this;if(0==this.loaded)return F.a.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then(function(){l.loaded=!0,l.search()}),S.a.createElement(R.h,null);function e(a,n,i){var r=[];return Object.keys(l.input[a]).forEach(function(e,t){r.push(S.a.createElement("label",{style:{display:n},key:t},S.a.createElement("input",{type:"checkbox",name:e,checked:l.input[a][e],onChange:function(e){return l.handleChange(e,a)}}),i(e)))}),r}var t=e("sets","block",function(e){return F.a.sets[e.toUpperCase()]}),a=e("types","block",function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),n=e("rarity","block",function(e){return e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}),i=e("tribes","inline",function(e){return S.a.createElement("span",null,S.a.createElement("img",{className:"icon16",src:"/src/img/icons/tribes/"+e+".png"}))}),r=e("elements","inline",function(e){return S.a.createElement("span",null,S.a.createElement("img",{className:"icon20",src:"/src/img/icons/elements/"+e+".png"})," ")}).slice(0,-2),s=[];return Object.keys(this.input.disciplines).forEach(function(e,t){s.push(S.a.createElement("label",{key:t,className:"disciplines"},S.a.createElement("input",{type:"text",name:e,value:l.input.disciplines[e],onChange:function(e){return l.handleChange(e,"disciplines")}})," ",S.a.createElement("img",{className:"icon20",style:{verticalAlign:"bottom"},src:"/src/img/icons/disciplines/"+e+".png"})," "))}),S.a.createElement("div",{className:"SearchForm"},S.a.createElement("form",{onSubmit:this.search},S.a.createElement("div",{className:"centeredButtons"},S.a.createElement("input",{id:"search",type:"submit",value:"Search"}),S.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset})),S.a.createElement("div",{className:"text-entry"},S.a.createElement("input",{type:"text",name:"name",placeholder:"Card Name",value:this.input.name,onChange:this.handleChange})),S.a.createElement("div",{className:"text-entry"},S.a.createElement("input",{type:"text",name:"text",placeholder:"Card Text",value:this.input.text,onChange:this.handleChange})),S.a.createElement("div",{className:"text-entry"},S.a.createElement("input",{type:"text",name:"subtypes",placeholder:"Subtypes | Initiative",value:this.input.subtypes,onChange:this.handleChange})),S.a.createElement("div",{className:"centeredCheckBox"},S.a.createElement("label",{className:"mull"},S.a.createElement("input",{type:"checkbox",name:"flavor",value:!this.input.flavor,onChange:function(e){l.input.flavor=!e.target.checked}}),"Ignore Flavortext & Artist")),S.a.createElement("br",null),S.a.createElement("div",{className:"centeredCheckBox centeredSpacing"},S.a.createElement("label",{className:"mull"},S.a.createElement("input",{type:"checkbox",name:"unique",checked:this.input.mull.unique,onChange:function(e){return l.handleChange(e,"mull")}}),"Unique"),S.a.createElement("label",{className:"mull"},S.a.createElement("input",{type:"checkbox",name:"loyal",checked:this.input.mull.loyal,onChange:function(e){return l.handleChange(e,"mull")}}),"Loyal"),S.a.createElement("label",{className:"mull"},S.a.createElement("input",{type:"checkbox",name:"legendary",checked:this.input.mull.legendary,onChange:function(e){return l.handleChange(e,"mull")}}),"Legendary")),S.a.createElement("div",{className:"centeredCheckBox"},S.a.createElement("label",{className:"mull"},S.a.createElement("input",{type:"checkbox",name:"mixed",checked:this.input.mull.mixed,onChange:function(e){return l.handleChange(e,"mull")}}),"Non-Loyal")),S.a.createElement("hr",null),S.a.createElement("div",{className:"tribes"},i),S.a.createElement("hr",null),S.a.createElement("div",{className:"tribes"},r,S.a.createElement("label",{className:"none"},S.a.createElement("input",{type:"checkbox",name:"none",checked:this.input.elements.none,onChange:function(e){return l.handleChange(e,"elements")}}),S.a.createElement("span",null,"None"))),S.a.createElement("div",{className:"centeredButtons"},S.a.createElement("input",{type:"button",value:this.input.elements.none?"none":"or",className:"and",disabled:!this.input.elements.and,onClick:function(){l.input.elements.and=!1}}),S.a.createElement("input",{type:"button",value:this.input.elements.none?"only":"and",className:"and",disabled:this.input.elements.and,onClick:function(){l.input.elements.and=!0}})),S.a.createElement("hr",null),S.a.createElement(ge,{type:"disciplines",title:"Disciplines",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"disciplines"},s)),S.a.createElement(ge,{type:"energy",title:"Energy",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"minMax"},S.a.createElement("label",{className:"mcbp"},"Min ",S.a.createElement("input",{type:"text",name:"min",value:this.input.energy.min,onChange:function(e){return l.handleChange(e,"energy")}})),S.a.createElement("label",{className:"mcbp"},"Max ",S.a.createElement("input",{type:"text",name:"max",value:this.input.energy.max,onChange:function(e){return l.handleChange(e,"energy")}})))),S.a.createElement(ge,{type:"bpmc",title:"Build Points\nMugic Counters/Cost",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"minMax"},S.a.createElement("label",{className:"mcbp"},"Min ",S.a.createElement("input",{type:"text",name:"min",value:this.input.mcbp.min,onChange:function(e){return l.handleChange(e,"mcbp")}})),S.a.createElement("label",{className:"mcbp"},"Max ",S.a.createElement("input",{type:"text",name:"max",value:this.input.mcbp.max,onChange:function(e){return l.handleChange(e,"mcbp")}})))),S.a.createElement(ge,{type:"types",title:"Card Type",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"centeredCheckBox"},a)),S.a.createElement(ge,{type:"rarity",title:"Rarity",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"centeredCheckBox"},n)),S.a.createElement(ge,{type:"sets",title:"Sets",collapsed:this.collapsed,onClick:this.handleTriggerClick},S.a.createElement("div",{className:"setBox"},S.a.createElement("div",{className:"centeredCheckBox",id:"sets"},t))),S.a.createElement("div",{className:"centeredButtons"},S.a.createElement("input",{id:"search",type:"submit",value:"Search"}),S.a.createElement("input",{id:"search",type:"button",value:"Reset",onClick:this.reset}))))}}]),t}(S.a.Component),u=_()(o.prototype,"loaded",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=_()(o.prototype,"input",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=_()(o.prototype,"collapsed",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o))||m)||m,ge=function(e){function i(e){var t;y()(this,i),(t=w()(this,C()(i).call(this,e))).open=!1,t.trigger="";var a=e.collapsed,n=e.type;return t.open=a[n],t.trigger=e.title,t}return O()(i,e),E()(i,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.children,n=e.onClick;return S.a.createElement(G.a,{trigger:this.trigger,open:this.open,onOpen:function(){return n(t)},onClose:function(){return n(t)}},a)}}]),i}(S.a.Component);a(386);a.d(t,"default",function(){return de});var pe=Object(L.k)({style:{},get fixed(){return this.style},get isFixed(){return 0!==Object.entries(this.style).length},setFixed:function(e){if(window.matchMedia("(min-width: 975px)").matches){var t=document.getElementById("player").getBoundingClientRect().left+4,a=document.querySelector(".collection > .left").getBoundingClientRect().width+2;this.style={position:"fixed",top:0,left:"".concat(t,"px"),overflowY:"auto",height:"".concat(e,"px"),width:"".concat(a,"px")}}},removeFixed:function(){this.style={}}},{setFixed:L.d,removeFixed:L.d},{deep:!1}),de=Object(M.a)(function(e,t,a){return t})(ae=Object(M.b)((ne=function(e){function a(){var e;y()(this,a),e=w()(this,C()(a).call(this)),f()(e,"loaded",ie,q()(e)),f()(e,"n",re,q()(e)),f()(e,"p",le,q()(e)),f()(e,"ext",se,q()(e)),f()(e,"content",ce,q()(e)),f()(e,"card_img",me,q()(e)),f()(e,"fixedStyles",oe,q()(e)),e.handleScroll=function(e){if(e.preventDefault(),235<=window.pageYOffset){var t=document.documentElement,a="scrollHeight",n="clientHeight",i=document.getElementById("side-menu"),r=document.querySelector(".collection > .right"),l=t[a]-window.innerHeight-t.scrollTop;if(l<=90){var s=t[n]-(90-l);pe.setFixed(s)}else i[a]>t[n]?pe.setFixed(window.innerHeight):i[n]!==t[n]&&pe.setFixed(window.innerHeight);!function(e){if(r[n]<window.innerHeight)r.style.minHeight="".concat(e,"px");else{if(r[n]===window.innerHeight)return;r.style.minHeight&&(r.style.minHeight=null)}}(window.innerHeight)}else pe.isFixed&&pe.removeFixed()};var t=localStorage.getItem("extended");return null==t&&(e.ext=!1),e.ext=/true/i.test(t),e}return O()(a,e),E()(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleScroll)}},{key:"handleContent",value:function(e){this.content=e,this.p=1}},{key:"setImage",value:function(e){this.card_img=e||F.a.card_back,this.changeImage()}},{key:"setExt",value:function(){this.ext=!this.ext,localStorage.setItem("extended",this.ext)}},{key:"render",value:function(){var t=this;return S.a.createElement("div",{className:"collection "+(this.ext?"extended":"short")},S.a.createElement("div",{className:"left"},S.a.createElement("div",{id:"side-menu",style:pe.fixed},S.a.createElement(xe,{url:F.a.base_image+this.card_img,ref:function(e){e&&(t.changeImage=e.getInstance().changeImage)}}),S.a.createElement(ue,h()({handleContent:this.handleContent.bind(this)},this.props)))),S.a.createElement("div",{className:"right"},S.a.createElement("div",{className:"list-nav-top"},this.navigation(),this.extended()),S.a.createElement("br",null),S.a.createElement(H,{ext:this.ext,cards:this.content.slice(this.n*(this.p-1),this.n*this.p),setImage:this.setImage.bind(this)}),S.a.createElement("br",null),this.navigation()))}},{key:"extended",value:function(){return S.a.createElement("div",{className:"ext-button"},S.a.createElement("button",{id:"buttons",onClick:this.setExt.bind(this)},this.ext?"Short Format":"Extended Format"))}},{key:"navigation",value:function(){var t=this,e=Math.ceil(this.content.length/this.n);return S.a.createElement("div",{className:"entries"},this.content.length," results - page ",this.p," of ",e," ",1<t.p?S.a.createElement("button",{id:"buttons",onClick:function(){t.p--,window.scrollTo(0,0)}},"prev"):S.a.createElement("button",{id:"buttons",disabled:!0},"prev")," ",t.p<e?S.a.createElement("button",{id:"buttons",onClick:function(){t.p++,window.scrollTo(0,0)}},"next"):S.a.createElement("button",{id:"buttons",disabled:!0},"next"),S.a.createElement("br",null),"Entries per page",S.a.createElement("input",{type:"button",value:"5",disabled:"5"==this.n,onClick:function(e){return t.n=e.target.value}})," ",S.a.createElement("input",{type:"button",value:"10",disabled:"10"==this.n,onClick:function(e){return t.n=e.target.value}})," ",S.a.createElement("input",{type:"button",value:"20",disabled:"20"==this.n,onClick:function(e){return t.n=e.target.value}})," ",S.a.createElement("input",{type:"button",value:"50",disabled:"50"==this.n,onClick:function(e){return t.n=e.target.value}}))}}]),a}(S.a.Component),ie=_()(ne.prototype,"loaded",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=_()(ne.prototype,"n",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),le=_()(ne.prototype,"p",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),se=_()(ne.prototype,"ext",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=_()(ne.prototype,"content",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=_()(ne.prototype,"card_img",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.a.card_back}}),oe=_()(ne.prototype,"fixedStyles",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=ne))||ae)||ae,he=Object(M.b)((ee=function(e){function r(){var e,t;y()(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=w()(this,(e=C()(r)).call.apply(e,[this].concat(n))),f()(t,"display",te,q()(t)),t.handleClickOutside=function(e){t.display=!1},t.changeImage=function(){t.display=!0},t}return O()(r,e),E()(r,[{key:"render",value:function(){return S.a.createElement("div",{className:"card_img"},S.a.createElement("img",{className:this.display?"":"hidden",src:this.props.url}))}}]),r}(S.a.Component),te=_()(ee.prototype,"display",[L.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=ee))||Z,xe=(0,a(382).default)(he)}}]);