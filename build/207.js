"use strict";(self.webpackChunkchaoticbackup=self.webpackChunkchaoticbackup||[]).push([[207],{24207:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var n=a(96540),r=a(47767),l=a(58168),c=a(50097),s=a(42511),i=a(84976),o=a(91349),m=a(44759),u=a(92291);const p=Object.create(o.A);p.input={width:"1.2em",height:"1.4em",font:"inherit",textAlign:"center",margin:"0.05em",backgroundColor:"rgba(0,0,0,0)",color:"white"},p.inputGroup={alignItems:"center"},p.hyphen={background:"white",height:"0.1em",width:".5em",display:"inline-block"};const d=()=>{const[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(null),[o,d]=(0,n.useState)(null),h=(0,c.A)({acceptedCharacters:/^[0-9a-z]$/i,length:12,value:e,onChange:t});if((0,n.useEffect)((()=>{u.A.parseSpreadsheetData("1hzSojB76Me-P1qppxYR0oiHSU56jyK59x3DKm660ntc","fan").then((e=>{r(e)})).catch((()=>{}))}),[]),null===a)return n.createElement(m.Rh,null);return n.createElement("div",{className:"enterthecode"},n.createElement(s.HG,(0,l.A)({as:i.N_},p.link,{to:"/EnterTheCode/PackSimulator/"}),"Pack Simulator"),n.createElement("br",null),n.createElement("br",null),n.createElement("div",{style:p.inputGroup},n.createElement("input",(0,l.A)({type:"text",style:p.input},h[0])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[1])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[2])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[3])),n.createElement("span",{style:p.hyphen}),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[4])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[5])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[6])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[7])),n.createElement("span",{style:p.hyphen}),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[8])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[9])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[10])),n.createElement("input",(0,l.A)({type:"text",style:p.input},h[11]))),n.createElement("br",null),n.createElement("button",{onClick:t=>{if(t.preventDefault(),t.stopPropagation(),e.length<12||-1!=e.indexOf(" "))d(n.createElement("p",{style:{color:"red"}},"Please enter a 12 digit code"));else{const e=a[(r=0,l=a.length,r=Math.ceil(r),l=Math.floor(l),Math.floor(Math.random()*(l-r))+r)],t=/.*.png|.*.jpg/i.test(e.gsx$image)?e.gsx$image:u.A.base_image+e.gsx$image;d(n.createElement(n.Fragment,null,n.createElement("p",null," Congrats on your scan! "),n.createElement("br",null),n.createElement("p",{className:"bigger"}," ",e.gsx$name," "),n.createElement("br",null),n.createElement("img",{className:"card",src:t})))}var r,l}},"Validate Code"),n.createElement("br",null),n.createElement("br",null),n.createElement("div",null,o))};var h,E,g=a(54167),y=a(793),f=a(60918),k=a.n(f),b=a(22451);let x=(h=class{constructor(){(0,g.A)(this,"filter",E,this),this.setupDB=()=>{const e=new(k())("filter.db").addCollection("filter");let t;e.addDynamicView("alphabetical").applySimpleSort("gsx$name"),t=u.A.cards.attacks.find(),t.forEach((e=>delete e.$loki)),e.insert(t),t=u.A.cards.battlegear.find(),t.forEach((e=>delete e.$loki)),e.insert(t),t=u.A.cards.creatures.find(),t.forEach((e=>delete e.$loki)),e.insert(t),t=u.A.cards.locations.find(),t.forEach((e=>delete e.$loki)),e.insert(t),t=u.A.cards.mugic.find(),t.forEach((e=>delete e.$loki)),e.insert(t),this.filter=e},this.blankCard=e=>n.createElement("div",{key:e,className:"card"},n.createElement("div",{style:{backgroundImage:'url("'+u.A.card_back+'")'}})),this.generate=e=>{let{packs:t,set:a}=e;const r=[];let l=[],c=0;const s=this.filter.addDynamicView("set"),i=e=>{let t=parseInt(e)-10;return t<0&&(t=0),5*Math.floor(5*Math.random())+t},o=e=>{const t=e[Math.floor(Math.random()*e.length)];t?l.indexOf(t.gsx$name)>-1||t.gsx$exclusive.toLowerCase().includes("starter")?o(e):(l.push(t.gsx$name),"Creatures"===t.gsx$type?r.push(n.createElement("div",{key:c++,className:"card creatures"},n.createElement("div",{style:{backgroundImage:'url("'+u.A.cardImage(t)+'")'}},n.createElement("div",{className:"stats"},n.createElement("span",{key:"courage"},i(t.gsx$courage)),n.createElement("span",{key:"power"},i(t.gsx$power)),n.createElement("span",{key:"wisdom"},i(t.gsx$wisdom)),n.createElement("span",{key:"speed"},i(t.gsx$speed)),n.createElement("span",{key:"energy"},(e=>{let t=parseInt(e)-5;return t<0&&(t=0),5*Math.floor(3*Math.random())+t})(t.gsx$energy)))))):(console.log(u.A.cardImage(t)),r.push(n.createElement("div",{key:c++,className:"card "+t.gsx$type.toLowerCase()},n.createElement("div",{style:{backgroundImage:'url("'+u.A.cardImage(t)+'")'}}))))):r.push(this.blankCard(c++))},m=(e,t)=>{s.applyFind({gsx$set:a}).applyFind({gsx$rarity:e});const n=s.data();for(let e=0;e<t;e++)o(n);s.removeFilters()},p=function(e){void 0===e&&(e="Rare");const t=Math.floor(24*Math.random())+1;return 24==t?"Ultra Rare":t%3==0?"Super Rare":e};for(let e=0;e<t;e++){switch(a){case"OP1":m("Common",2);m((()=>{const e=Math.floor(75*Math.random())+1;return 75==e?"Ultra Rare":e<19?"Super Rare":e<44?"Rare":"Uncommon"})(),1);break;case"PE1":m("Super Rare",5),m("Ultra Rare",1);break;case"AU":case"FAS":m("Common",6),m("Rare",2),m(p(),1);break;case"TOTT":case"FUN":m("Common",3),m("Uncommon",3),m("Rare",2),m(p("Common"),1);break;default:m("Common",4),m("Uncommon",3),m("Rare",1),m(p(),1)}l=[]}return this.filter.removeDynamicView("set"),r}}},E=(0,y.A)(h.prototype,"filter",[b.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h);const{generate:A,setupDB:v,blankCard:C}=new x;function S(){const[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(""),[c,p]=(0,n.useState)([]),[d,h]=(0,n.useState)([]),[E,g]=(0,n.useState)(1);if((0,n.useEffect)((()=>{u.A.LoadDB([{cards:"attacks"},{cards:"battlegear"},{cards:"creatures"},{cards:"locations"},{cards:"mugic"}]).then((()=>{v(),t(!0)})).catch((()=>{}));const e=[];for(let t=0;t<9;t++)e.push(C(t));h(e);const a=[];let r=1;for(const e in u.A.sets)if(a.push(n.createElement("option",{key:r++,value:e},u.A.sets[e])),"PE1"===e)break;p(a)}),[]),0==e)return n.createElement(m.Rh,null);return n.createElement("div",{className:"packsim"},n.createElement(s.HG,(0,l.A)({as:i.N_},o.A.link,{to:"/EnterTheCode/"}),"Enter The Code"),n.createElement("br",null),n.createElement("br",null),n.createElement("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),h(A({packs:E,set:a}))}},n.createElement("label",null,"Packs:",n.createElement("input",{name:"packs",type:"number",value:E,min:"1",max:"24",style:{width:"32px",padding:"0px"},onChange:e=>{parseInt(e.target.value)>24&&(e.target.value="24"),g(parseInt(e.target.value))}})),n.createElement("select",{name:"set",value:a,onChange:e=>{r(e.target.value)}},n.createElement("option",{defaultValue:"selected",hidden:!0,style:{fontStyle:"italic"}},"Select a Set"),c),n.createElement("br",null),n.createElement("br",null),n.createElement("input",{disabled:!a,type:"submit",value:"Open Packs"})),n.createElement("br",null),n.createElement("br",null),n.createElement("div",{className:"pack"},d))}function $(){return n.createElement(r.BV,null,n.createElement(r.qh,{path:"/",element:n.createElement(d,null)}),n.createElement(r.qh,{path:"PackSimulator",element:n.createElement(S,null)}))}}}]);